<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- add description and keywords for SEO -->
  <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Setting two factor authentication for Github | Suhas Bharadwaj</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="Setting two factor authentication for Github" />
<meta name="author" content="Suhas Bharadwaj" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A simple guide to help you set up two factor authentication on Github and configuring git." />
<meta property="og:description" content="A simple guide to help you set up two factor authentication on Github and configuring git." />
<link rel="canonical" href="http://localhost:4000/github-two-factor-authentication" />
<meta property="og:url" content="http://localhost:4000/github-two-factor-authentication" />
<meta property="og:site_name" content="Suhas Bharadwaj" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-01-15T00:00:00+05:30" />
<script type="application/ld+json">
{"description":"A simple guide to help you set up two factor authentication on Github and configuring git.","author":{"@type":"Person","name":"Suhas Bharadwaj"},"@type":"BlogPosting","url":"http://localhost:4000/github-two-factor-authentication","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/nr-logo.jpg"},"name":"Suhas Bharadwaj"},"headline":"Setting two factor authentication for Github","dateModified":"2017-01-15T00:00:00+05:30","datePublished":"2017-01-15T00:00:00+05:30","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/github-two-factor-authentication"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <meta name="description" content="A simple guide to help you set up two factor authentication on Github and configuring git.">
  
 <meta name="keywords" content="Suhas Bharadwaj, jekyll, blog, seo, github pages, rust, competetive programming, open source, software development, introduction, tutorial, beginners, dummies, containers, linux, docker, kubernetes, containers, system programming, computers, github" />
 
  
  <meta name="author" content="Suhas Bharadwaj">
  <meta name="copyright" content="&copy; Suhas Bharadwaj 2018">
  

  <!-- External libraries -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/monokai_sublime.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css">

  <!-- Favicon and other icons (made with http://www.favicon-generator.org/) -->
  <!--<link rel="shortcut icon" href="/favicon.ico">
  <link rel="icon" sizes="16x16 32x32 64x64" href="/assets/icons/favicon.ico">
  <link rel="icon" type="image/png" sizes="196x196" href="/assets/icons/favicon-192.png">
  <link rel="icon" type="image/png" sizes="160x160" href="/assets/icons/favicon-160.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96.png">
  <link rel="icon" type="image/png" sizes="64x64" href="/assets/icons/favicon-64.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16.png">
  <link rel="apple-touch-icon" href="/assets/icons/favicon-57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/favicon-114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/favicon-72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/favicon-144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/favicon-60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/favicon-120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/favicon-76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/favicon-152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/favicon-180.png">
  <meta name="msapplication-TileColor" content="#FFFFFF">
  <meta name="msapplication-TileImage" content="/assets/icons/favicon-144.png">
  <meta name="msapplication-config" content="/assets/icons/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">-->
<link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/assets/icons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="//assets/icons/avicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

  
  <!-- Facebook OGP cards -->
  <meta property="og:description" content="When I heard of 2FA on Github, I was excited and immediately enabled it. But enabling it brought it’s fair share of problems and I was left scratching my hea..." />
  <meta property="og:url" content="http://localhost:4000/github-two-factor-authentication" />
  <meta property="og:site_name" content="Suhas Bharadwaj" />
  <meta property="og:title" content="Setting two factor authentication for Github" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="http://localhost:4000/assets/nr-logo.jpg" />
  <meta property="og:image:type" content="image/jpg" />
  <meta property="og:image:width" content="612" />
  <meta property="og:image:height" content="605" />
    
  

  
  <!-- Twitter: card tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Setting two factor authentication for Github">
  <meta name="twitter:description" content="When I heard of 2FA on Github, I was excited and immediately enabled it. But enabling it brought it’s fair share of problems and I was left scratching my hea...">
  <meta name="twitter:image" content="http://localhost:4000/assets/nr-logo.jpg">
  <meta name="twitter:url" content="http://localhost:4000">
  

  

  <!-- Site styles -->
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/github-two-factor-authentication">
  <link rel="alternate" type="application/rss+xml" title="Suhas Bharadwaj" href="http://localhost:4000/feed.xml" />
</head>


  <body>

    <header class="navigation" role="banner">
  <div class="navigation-wrapper">
    <a href="/" class="logo">
      
      <img src="/assets/nr-logo.jpg" alt="Suhas Bharadwaj">
      
    </a>
    <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu">
      <i class="fa fa-bars"></i>
    </a>
    <nav role="navigation">
      <ul id="js-navigation-menu" class="navigation-menu show">
        
          
          <li class="nav-link"><a href="/about/">About Me</a>
          
        
          
          <li class="nav-link"><a href="/archive/">Archive</a>
          
        
          
        
          
        
          
        
          
        
          
          <li class="nav-link"><a href="/talks/">Talks</a>
          
        
          
        
          
        
          
        
          
        
      </ul>
    </nav>
  </div>
</header>


    <div class="page-content">
        <div class="post">

<div class="post-header-container " >
  <div class="scrim ">
    <header class="post-header">
      <h1 class="title">Setting two factor authentication for Github</h1>
      <p class="info">by <strong>Suhas Bharadwaj</strong></p>
    </header>
  </div>
</div>

<div class="wrapper">

 <span class="page-divider">
  <span class="one"></span>
  <span class="two"></span>
</span>
 

<section class="post-meta">
  <div class="post-date">January 15, 2017</div>
  <div class="post-categories">
  
  </div>
</section>

<article class="post-content">
  <p>When I heard of <a href="https://help.github.com/articles/about-two-factor-authentication/">2FA on Github</a>, I was excited and immediately enabled it. But enabling it brought it’s fair share of problems and I was left scratching my head. I hope this post avoids that for you.</p>

<p><br /></p>

<h2 id="problems-i-faced">Problems I faced</h2>

<ol>
  <li>There was no SMS fallback option in India. I prefer the in-app authentication for generating the OTP but it would have been nice if I had the SMS option as well. This isn’t a problem, I know, but it is annoying!</li>
  <li>I could no longer push to Github. Now this was bad. Real bad.</li>
</ol>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git push origin master
Username <span class="k">for</span> <span class="s1">'https://github.com'</span>: nikhita
Password <span class="k">for</span> <span class="s1">'https://nikhita@github.com'</span>: 
remote: Invalid username or password.
fatal: Authentication failed <span class="k">for</span> <span class="s1">'https://github.com/nikhita/nikhita.github.io.git/'</span>
</code></pre></div></div>
<p><br /></p>

<h2 id="how-to-solve-it">How to solve it</h2>

<p><strong>Generate a personal access token</strong>: Github requires you to generate a Personal Access token for authenticating via the command line i.e. for git. To <a href="https://help.github.com/articles/creating-an-access-token-for-command-line-use/">generate</a> this, go to Settings -&gt; Personal Access Tokens -&gt; Generate new token. Make sure you note down this token because you won’t be able to see it again!</p>

<p>Test the token by:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ curl -u &lt;token&gt;:x-oauth-basic https://api.github.com/user
</code></pre></div></div>

<p>You should see an output detailing your account. If something is wrong, you’ll see a message like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "message": "Not Found",
  "documentation_url": "http://developer.github.com/v3"
}
</code></pre></div></div>

<p>Now there are two ways to set up git for authenticating:</p>

<h4 id="using-ssh">Using SSH</h4>

<p>If you are using SSH, no additional steps are needed. Simply clone the repo, make the changes and then push. This way you won’t have to specify the username or the password. There is a pretty handy <a href="https://help.github.com/articles/connecting-to-github-with-ssh/">guide</a> for setting up SSH on Github.</p>

<h4 id="using-https">Using HTTPS</h4>

<p>If you want to use HTTPS, use the <em>personal access token as the password</em> when you push. However, specifying the token as a password everytime is quite cumbersome (even with caching on). So save the token in a file called <code class="highlighter-rouge">~/.netrc</code> in the following format:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>machine github.com
login nikhita
password &lt;token&gt;
protocol https

machine gist.github.com
login nikhita
password &lt;token&gt;
protocol https
</code></pre></div></div>

<p>This is saves your token in a plain text file which is not secure so encrypt it with gpg:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>gpg <span class="nt">--encrypt</span> <span class="nt">--armor</span> <span class="nt">--recipient</span> &lt;email&gt; .netrc
<span class="nv">$ </span>git config <span class="nt">--global</span> credential.helper <span class="s2">"netrc -f ~/.netrc.asc -v"</span>
</code></pre></div></div>

<p>So now when you push over HTTPS, it won’t ask you for the username and token.</p>

<p><br /></p>

<h2 id="pro-tip">Pro Tip</h2>

<p>SSH is far more secure than HTTPS for authentication. With HTTPS, if your username and password are seen or copied by someone, then that person has access to your entire account. As long as you look after your private key, SSH is more secure and convenient. Even if someone had access to your private key (for the love of all that is holy, please don’t let this happen), you can log in to your Github account and delete any stolen keys.</p>

<p>SSH can be tunneled over HTTPS if the network you are on blocks the SSH port. A nice <a href="https://help.github.com/articles/using-ssh-over-the-https-port/">tutorial</a> is available. Thanks to <a href="https://blog.sachinwrites.xyz/">Sachin Kamath</a> for mentioning this!</p>


</article>



<section class="rss">
  <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p>
</section>

<section class="share">
  <span>Share: </span>
  
    
    
      <a href="//twitter.com/share?text=Setting+two+factor+authentication+for+Github&url=http%3A%2F%2Flocalhost%3A4000%2Fgithub-two-factor-authentication&via=readfead"
        onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;">
        <i class="fa fa-twitter-square fa-lg"></i>
      </a>
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
    
    
    
  
    
    
    
    
    
      <a href="//www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fgithub-two-factor-authentication"
        onclick="window.open(this.href, 'linkedin-share', 'width=550,height=255');return false;">
        <i class="fa fa-linkedin-square fa-lg"></i>
      </a>
    
    
    
    
  
</section>

  <section class="post-navigation">
    <span class="prev-post">
      
        <a href="/setting-import-path-for-go-generate">
          <span class="fa-stack fa-lg">
            <i class="fa fa-square fa-stack-2x"></i>
            <i class="fa fa-angle-double-left fa-stack-1x fa-inverse"></i>
          </span>
          <span class="page-number">Setting import path for go generate</span>
        </a>
      
    </span>
    <span class="next-post">
      
        <a href="/introduction-to-keybase">
          <span class="page-number">Introduction to Keybase</span>
          <span class="fa-stack fa-lg">
            <i class="fa fa-square fa-stack-2x"></i>
            <i class="fa fa-angle-double-right fa-stack-1x fa-inverse"></i>
          </span>
        </a>
      
    </span>
  </section>




<section class="disqus">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname = 'suhasramblings';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>



</div>
</div>

    </div>

    <footer class="site-footer">

  <div class="wrapper">
    <div class="site-navigation">

      <p><strong>Site Map</strong></p>
      <ul class="pages">
        
        
          <li class="nav-link"><a href="/about/">About Me</a>
        
        
        
          <li class="nav-link"><a href="/archive/">Archive</a>
        
        
        
        
        
        
        
        
        
        
        
          <li class="nav-link"><a href="/talks/">Talks</a>
        
        
        
        
        
        
        
        
        
        
      </ul>
    </div>

    <div class="site-contact">

      <p><strong>Contact</strong></p>
      <ul class="social-media-list">
        <li>
          <a href="mailto:suhaspbharadwaj@gmail.com">
            <i class="fa fa-envelope-o"></i>
            <span class="username">suhaspbharadwaj@gmail.com</span>
          </a>
        </li>

        
          
          <li>
            <a href="https://twitter.com/readfead" title="Follow me on Twitter" target="_blank">
              <i class="fa fa-twitter"></i>
              <span class="username">readfead</span>
            </a>
          </li>
          
        
          
          <li>
            <a href="https://www.quora.com/profile/Suhas-Bharadwaj" title="Follow me on Quora" target="_blank">
              <i class="fa fa-quora"></i>
              <span class="username">Suhas-Bharadwaj</span>
            </a>
          </li>
          
        
          
          <li>
            <a href="https://github.com/suhas-p-bharadwaj" title="Fork me on GitHub" target="_blank">
              <i class="fa fa-github"></i>
              <span class="username">suhas-p-bharadwaj</span>
            </a>
          </li>
          
        
          
          <li>
            <a href="https://www.linkedin.com/in/suhas-bharadwaj-ab06b638/" title="Connect with me on LinkedIn" target="_blank">
              <i class="fa fa-linkedin"></i>
              <span class="username">suhas-bharadwaj-ab06b638</span>
            </a>
          </li>
          
        

      </ul>
    </div>

    <div class="site-signature">
      <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS <i class="fa fa-rss"></i></a></strong></p>
      <p class="text">A personal website about technical things I find useful. Also, random ramblings and rants.
</p>
    </div>

  </div>

</footer>

<!-- Scripts -->
<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/js/lightbox.min.js"></script>
<script id="dsq-count-scr" src="//iammichaelhudson.disqus.com/count.js" async></script>
<script>

$(document).ready(function() {

  // Syntax highlighting
  hljs.initHighlightingOnLoad();

  // Header
  var menuToggle = $('#js-mobile-menu').unbind();
  $('#js-navigation-menu').removeClass("show");
  menuToggle.on('click', function(e) {
    e.preventDefault();
    $('#js-navigation-menu').slideToggle(function(){
      if($('#js-navigation-menu').is(':hidden')) {
        $('#js-navigation-menu').removeAttr('style');
      }
    });
  });

  //Make sure all the post's links open in a new tab
  jQuery('.post-content a, .post-excerpt a').not('.footnote, .reversefootnote').attr ('target', '_blank');

});

</script>




  </body>

</html>
